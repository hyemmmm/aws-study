# AWS VPC / EC2 테넌시(Tenancy) 쉽게 정리

## 1. 테넌시(Tenancy)란?
**“서버를 남이랑 같이 쓰냐, 나 혼자 쓰냐”**를 정하는 개념이다.

- **Shared**: 물리 서버를 여러 고객이 함께 사용
- **Dedicated**: 물리 서버를 한 고객만 단독 사용

> 여기서 말하는 서버는 **실제 물리 서버**

---

## 2. 왜 이런 개념이 나오나?
AWS는 큰 **물리 서버** 위에 여러 개의 **가상 서버(EC2)**를 올려서 제공한다.  
그래서 다음 선택지가 생긴다.

> “이 EC2가 올라갈 물리 서버를  
> 다른 고객이랑 같이 써도 되나?”

이 선택이 바로 **테넌시**

---

## 3. 공유(Shared) tenancy면 보안 문제가 있는가?
아니다.

- AWS 기본 전제:
  - Shared tenancy도 **가상화 레벨에서 완전 격리**
  - 보안상 문제 없음

Dedicated를 쓰는 이유 대부분은:
- 법 / 규정 / 감사 문서 요구
- 소프트웨어 라이선스 조건

👉 **기술적 보안 문제 때문이 아님**

---

## 4. 왜 EC2에만 테넌시가 있나?
- 사용자가 **물리 서버 사용 방식을 선택할 수 있는 서비스가 EC2뿐**
- 다른 서비스들은:
  - RDS, S3, Lambda, Fargate 등
  - 물리 서버를 AWS가 완전히 숨김
  - 사용자가 선택 불가

👉 그래서 **테넌시는 EC2 계열에만 의미 있음**

---

## 5. EC2 생성 시에도 테넌시 설정 가능?
가능하다.

- EC2 생성 화면 → Advanced details
- Tenancy 옵션:
  - Shared (기본값)
  - Dedicated
  - Dedicated Host

---

## 6. 그럼 왜 VPC에도 테넌시가 있나?
👉 **실수 방지용**

예:
- “이 시스템은 무조건 전용 서버여야 한다”
- 개발자가 EC2 생성 시 실수로 `Shared` 선택 ❌

해결:
- **VPC를 Dedicated로 생성**
- 그 VPC 안에서는:
  - EC2가 무조건 Dedicated
  - 실수 자체가 불가능

---

## 7. VPC 테넌시와 EC2 테넌시 관계
비유하면:

- **VPC 테넌시**: 건물 전체 규칙
- **EC2 테넌시**: 방 하나의 옵션

규칙:
- VPC보다 **약한 선택은 불가**
- 더 강한 격리만 가능

| VPC 테넌시 | EC2에서 선택 가능 |
|-----------|------------------|
| shared    | shared / dedicated / host |
| dedicated | dedicated만 가능 |

---

## 8. 실무에서의 일반적인 사용
- 대부분 서비스:
  - VPC = shared
  - 필요할 때만 EC2 일부를 dedicated
- 금융 / 공공 / 규정 환경:
  - VPC 자체를 dedicated로 생성

---

## 한 문장 요약
> **VPC 테넌시는  
> “이 네트워크 안에 생성되는 EC2들이  
> 실수로라도 물리 서버를 공유하지 않게 하기 위한 상위 안전장치”다.**
